{% extends '_layout.html' %}

{% block title %}Horror Forum Voting Page{% endblock %}

{% block stylesheet %}
<style>
    .result-bar {
        width: 300px;
        height: 20px;
        border: 1px solid #000;
        margin-bottom: 10px;
        position: relative;
    }
    .bar-fill {
        height: 100%;
        position: absolute;
        top: 0;
    }
    .yes-fill {
        background-color: green;
        right: 0;
    }
    .no-fill {
        background-color: red;
    }
</style>
{% endblock stylesheet %}
{% block body %}
<nav>
    <ul class="backwards"><a href="/voting/previous">← Previous Week's Poll</a></li>
    <ul class="forwards"><a href="/voting/next">Preview Next Week's Poll →</a></li>
</nav>
<h1 style="color:green">Cast your Votes!</h1>
<h2>Is the Battleship in Wilmington, North Carolina really haunted?</h2>
<div class="voting-image">
    <img src="static\images\voting_page_image1.jpg" alt="Battleship" style="width: 1000px; height: 1000px; display: block; margin-left: auto; margin-right: auto">
</div>
<form action="/vote" method="post">
    <input type="radio" name="option" value="yes"> Yes<br>
    <input type="radio" name="option" value="no"> No<br>
    <input type="submit" value="Vote">
</form>
<div class="result-bar">
    <div class="bar-fill yes-fill" style="width: {{ (votes['yes'] / (votes['yes'] + votes['no']) if votes['yes'] + votes['no'] > 0 else 0) * 100 }}%;"></div>
    <div class="bar-fill no-fill" style="width: {{ (votes['no'] / (votes['yes'] + votes['no']) if votes['yes'] + votes['no'] > 0 else 0) * 100 }}%;"></div>
</div>
<p>{{ votes['yes'] }} number of users say it is haunted</p>
<p>{{ votes['no'] }} number of users say it is not haunted</p>
{% endblock %}
